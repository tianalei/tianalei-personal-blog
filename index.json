[{"content":"å­¦æ ¡å›¾ä¹¦é¦†æ¢äº†æ–°çš„éªŒè¯ç é¢„çº¦ç³»ç»Ÿï¼Œç”¨æˆ·æ¯å¤©22:45å‡†æ—¶å®Œæˆæ»‘å—éªŒè¯æ‰èƒ½æŠ¢åˆ°æ¬¡æ—¥åº§ä½ï¼Œæ•´ä¸ªæµç¨‹åŒ…æ‹¬ç™»å½•ç³»ç»Ÿâ†’é€‰æ‹©åŒºåŸŸâ†’å¯¹å‡†æ»‘å—ç¼ºå£â†’å¡ç‚¹æäº¤ï¼Œä»»ä½•ä¸€ä¸ªç¯èŠ‚å»¶è¿Ÿéƒ½å¯èƒ½å‰åŠŸå°½å¼ƒï¼Œå¯è°“æ‰‹æ®‹å…šå…‹æ˜Ÿã€‚å½“æˆ‘ç¬¬ä¸‰æ¬¡å› ä¸ºæ‰‹æŠ–æŠŠæ»‘å—æ»‘åï¼Œçœ‹ç€è¿‘10ç§’çš„éªŒè¯è€—æ—¶ï¼Œæ„è¯†åˆ°å¿…é¡»æƒ³åŠæ³•è‡ªæ•‘ã€‚ä»çµå…‰ä¹ç°åˆ°æ–¹æ¡ˆæˆå‹ï¼Œæ•´ä¸ªè¿‡ç¨‹åªç”¨äº†ä¸¤æ¯å’–å•¡çš„æ—¶é—´ï¼Œä»¥ä¸‹æ˜¯ä¸€ç‚¹å®æˆ˜å¿ƒå¾—ã€‚\nğŸ¥³ æœ€ç»ˆå®ç°æ•ˆæœ Before: æ‰‹åŠ¨æ¨¡å¼ \u0026#34;bookDate\u0026#34;: \u0026#34;2025-xx-xx 22:45:04\u0026#34;, \u0026#34;bookDate\u0026#34;: \u0026#34;2025-xx-xx 22:45:07\u0026#34;, \u0026#34;bookDate\u0026#34;: \u0026#34;2025-xx-xx 22:45:05\u0026#34; After: Tampermonkey è„šæœ¬ \u0026#34;bookDate\u0026#34;: \u0026#34;2025-xx-xx 22:45:00\u0026#34;, ç›®å‰æ–¹æ¡ˆè™½ä¸ç®—å®Œç¾ï¼ˆä»éœ€15ç§’å†…å®Œæˆæ‰‹åŠ¨éªŒè¯ï¼‰ï¼Œä½†å®æµ‹å°†æ“ä½œè¯¯å·®ä»Â±7ç§’å‹ç¼©åˆ°æ¯«ç§’çº§ï¼Œå·²ç»èƒ½ä¿è¯ç¨³å®šæŠ¢åˆ°ç›®æ ‡åº§ä½ã€‚å°±åƒç»™è€å¼æ±½è½¦åŠ è£…å®šé€Ÿå·¡èˆªâ€”â€”è™½ä¸æ˜¯å…¨è‡ªåŠ¨é©¾é©¶ï¼Œä½†è‡³å°‘ä¸ç”¨å†è„šè¸©æ²¹é—¨ä¸æ—¶é—´èµ›è·‘~\n1ï¸âƒ£ åŸå§‹æ‰‹åŠ¨æ¨¡å¼ï¼šä¸æ—¶é—´èµ›è·‘ æ»‘åŠ¨æ»‘å—åˆ°ç¼ºå£ä½ç½®ï¼Œç„¶ååœ¨22:45:00è¿…é€Ÿæ¾å¼€ã€‚æœ€ç®€å•ç›´è§‚çš„æ–¹æ³•ã€‚ä½†è¿™ä¸ªæ–¹æ³•æœ€å¤§çš„æ•Œäººæ˜¯è–›å®šè°”çš„éªŒè¯æ—¶é—´ï¼šä½ ä»¥ä¸º4ç§’èƒ½æå®šï¼Œå®é™…å¯èƒ½èŠ±7ç§’ã€‚æœ€å´©æºƒçš„ä¸€æ¬¡å°è¯•ï¼š22:44:59æ¾æ‰‹ï¼Œ\u0026ldquo;æœªåˆ°é¢„çº¦å¼€æ”¾æ—¶é—´\u0026rdquo;ï¼›22:45:00æ¾æ‰‹ï¼Œ\u0026ldquo;éªŒè¯ç è¢«é»‘æ´å¸èµ°äº†ï¼Œè¯·é‡è¯•\u0026rdquo;ã€‚å¯èƒ½é‡åˆ°çš„æƒ…å†µï¼š22:45:03é‡è¯•æˆåŠŸï¼Œå¿ƒä»ªåº§ä½å·²è¢«çº¦ã€‚\nè™½ç„¶å®é™…å› ä¸ºè¿æ°”å¥½ï¼Œæš‚æ—¶è¿˜æ²¡é‡åˆ°æ²¡æŠ¢åˆ°åº§ä½çš„æƒ…å†µï¼Œä½†é€šå¸¸ç›®æ ‡åº§ä½åŒºåŸŸåœ¨15ç§’å†…å°±å·²ç»å…¨éƒ¨è¢«æŠ¢å…‰ï¼Œæ‰€ä»¥è¿™ä¸ªæ–¹æ³•çš„å®¹é”™ç‡å¾ˆä½ã€‚åœ¨â€œå¯èƒ½æŠ¢ä¸åˆ°â€çš„ç„¦è™‘å‚¬ç”Ÿä¸‹ï¼Œæœ‰äº†åç»­çš„æ–¹æ¡ˆã€‚\n2ï¸âƒ£ Proxyman æ–­ç‚¹ï¼šå»¶è¿Ÿæ‰§è¡Œå†»ç»“è¯·æ±‚ ç”±äºé¢„çº¦è¯·æ±‚ /bookseat æ˜¯åœ¨éªŒè¯ç æ ¡éªŒ /check æˆåŠŸåç«‹å³POSTï¼Œé‚£ä¹ˆå¦‚æœèƒ½æ§åˆ¶/bookseatè¯·æ±‚å‘é€çš„ç²¾ç¡®æ—¶é—´ï¼Œå°±èƒ½ç»•è¿‡ä¸ç¡®å®šçš„äººç±»æ“ä½œå»¶è¿Ÿã€‚é€‰æ‹©Proxymanæ˜¯å› ä¸ºå®ƒçš„ Breakpoint åŠŸèƒ½å¯ä»¥å†»ç»“è¯·æ±‚ï¼Œå°±åƒç»™ç½‘ç»œè¯·æ±‚æ‰“äº†æ–­ç‚¹ï¼Œå¯ä»¥æ‰‹åŠ¨å»¶è¿Ÿæ‰§è¡Œè¯·æ±‚ã€‚\nè®¾ç½®ï¼šåœ¨ Proxyman Tools \u0026gt; Breakpoints ä¸­è®¾ç½®æ–­ç‚¹è§„åˆ™\nMatching Rule (Request): https://xxxx.xxx.xxx.edu.cn/*/bookseat/* é¢„çº¦æ­¥éª¤ï¼š\nç¡®ä¿å…¶ä»– Proxy å·¥å…·å·²å…³é—­ï¼ˆå¿…é¡»ï¼‰ã€‚ æ‰“å¼€å·²å¯ç”¨ SSL proxying çš„æµè§ˆå™¨ï¼ˆä¾‹å¦‚ Chromeï¼‰ï¼Œå¹¶é€‰æ‹©åº§ä½ã€‚ ç‚¹å‡»â€œç¡®è®¤â€æŒ‰é’®ï¼Œè°ƒèµ·æ»‘å—éªŒè¯ï¼Œå¹¶åœ¨ 22:44:45 ç§’åé€šè¿‡éªŒè¯ï¼Œè‡ªåŠ¨å”¤èµ·Proxyman æ–­ç‚¹çª—å£ã€‚ åœ¨ 22:45:00 ç§’ï¼Œåœ¨æ–­ç‚¹çª—å£ Excute Requestã€‚ è¿™æ ·ï¼Œåœ¨ Proxyman ä¸­è®¾ç½® Breakpoint Rule åï¼Œå½“è¯·æ±‚åŒ¹é…åˆ°æŒ‡å®šçš„ URLæ—¶ï¼Œä¼šè‡ªåŠ¨æš‚åœè¯·æ±‚å¹¶åœ¨æ–­ç‚¹çª—å£ä¸­æ˜¾ç¤ºã€‚ç”¨æˆ·å¯ä»¥åœ¨æ–­ç‚¹çª—å£ä¸­æ‰‹åŠ¨å»¶è¿Ÿè¯·æ±‚çš„æ‰§è¡Œæ—¶é—´ï¼Œä»¥ä¾¿åœ¨æŒ‡å®šçš„æ—¶é—´ç‚¹ï¼ˆ22:45:00 ç§’ï¼‰æ‰§è¡Œ Requestï¼Œå®ŒæˆæŠ¢åº§ä½çš„æ“ä½œã€‚\nå®æµ‹å‘ç°å…³é”®ç‚¹åœ¨äºï¼š\nç³»ç»Ÿçš„timeoutè®¾ç½®çº¦15ç§’ï¼Œæ‰€ä»¥æœ€å¤šæå‰15ç§’å®Œæˆæ»‘å—éªŒè¯ æœ¬åœ°æ—¶é—´åº”è¯¥è¦ä¸æœåŠ¡å™¨ä¸¥æ ¼åŒæ­¥ï¼ˆè¿™ä¸ªè¯¯å·®ç›®å‰å¯ä»¥å¿½ç•¥ï¼‰ Proxymançš„Proxyå’Œç”µè„‘å…¶ä»–Proxiesä¸èƒ½å…¼å®¹ï¼Œsetupèµ·æ¥æ¯”è¾ƒéº»çƒ¦ 3ï¸âƒ£ Proxyman è„šæœ¬ï¼š15ç§’å®¹é”™çª—å£ ä½†æ˜¯ï¼Œæ¯æ¬¡éƒ½ç›¯ç€æ—¶é’Ÿç‚¹\u0026quot;Execute\u0026quot;è¯·æ±‚è¿˜æ˜¯æœ‰ç‚¹éº»çƒ¦ã€‚äºæ˜¯ï¼Œæˆ‘æƒ³åˆ°ç”¨ proxyman scripting ç›´æ¥è®©ç¨‹åºè‡ªåŠ¨å¤„ç†ã€‚\nè®¾ç½®ï¼šåœ¨ Proxyman \u0026gt; Scripting ä¸­è®¾ç½®ä¸‹é¢çš„è„šæœ¬ // # Name: æ•è·å¹¶å»¶è¿Ÿåˆ°æŒ‡å®šæ—¶é—´è¯·æ±‚ // # URL (Request): https://xxxx.xxx.xxx.edu.cn/*/bookseat/* // å›¾ä¹¦é¦†é¢„çº¦å¼€æ”¾æ—¶é—´ const TARGET_HOUR = 22; // å°æ—¶ï¼ˆ24å°æ—¶åˆ¶ï¼‰ const TARGET_MIN = 45; // åˆ†é’Ÿ const TARGET_SEC = 00; // ç§’ function onRequest(context, url, request) { // è®¡ç®—ç›®æ ‡æ—¶é—´ const now = new Date(); const targetTime = new Date( now.getFullYear(), now.getMonth(), now.getDate(), TARGET_HOUR, TARGET_MIN, TARGET_SEC ); // è®¡ç®—å»¶è¿Ÿæ—¶é—´ï¼ˆæ¯«ç§’ï¼‰ const delay = targetTime - now; // æ—¶é—´çª—å£æ£€æŸ¥ï¼ˆ0-15ç§’ï¼‰ if (delay \u0026gt;= 0 \u0026amp;\u0026amp; delay \u0026lt;= 15000) { console.log(`å»¶è¿Ÿè¯·æ±‚: ${delay}ms`); sleep(delay); return request; } else { console.log(\u0026#34;æ”¾å¼ƒè¯·æ±‚ï¼šè¶…å‡ºæ—¶é—´çª—å£\u0026#34;); return request; } } é¢„çº¦æ­¥éª¤ï¼š\nç¡®ä¿å…¶ä»– Proxy å·¥å…·å·²å…³é—­ï¼ˆå¿…é¡»ï¼‰ã€‚ æ‰“å¼€å·²å¯ç”¨ SSL proxying çš„æµè§ˆå™¨ï¼ˆä¾‹å¦‚ Chromeï¼‰ï¼Œå¹¶é€‰æ‹©åº§ä½ã€‚ è°ƒèµ·æ»‘å—éªŒè¯ï¼Œå¹¶åœ¨ 22:44:45 ç§’åé€šè¿‡éªŒè¯ï¼Œè‡ªåŠ¨å”¤èµ·Proxyman æ–­ç‚¹çª—å£ã€‚ è¿™æ ·ï¼Œåœ¨ Proxyman ä¸­è®¾ç½® Script åï¼Œå½“è¯·æ±‚åŒ¹é…åˆ°æŒ‡å®šçš„ URLï¼Œè„šæœ¬ä¼šå»¶è¿Ÿåˆ°22:45:00å‡†æ—¶æ‰§è¡Œè¯·æ±‚ï¼Œä»è€Œæé«˜æŠ¢åº§ä½çš„æˆåŠŸç‡ã€‚\n4ï¸âƒ£âœ… å®Œå…¨åŸºäºæµè§ˆå™¨æ–¹æ¡ˆï¼šTampermonkeyè„šæœ¬å®ç° é‚£ä¹ˆï¼Œæ—¢ç„¶èƒ½ç›´æ¥æ‹¦æˆªæµè§ˆå™¨XHRè¯·æ±‚ï¼Œä¸ºä»€ä¹ˆä¸çœå»è®¾ç½®å¤–éƒ¨ä»£ç†å·¥å…·çš„ç¯å¢ƒï¼Œå®Œå…¨åŸºäºæµè§ˆå™¨è„šæœ¬å®ç°ï¼Ÿ\nè®¾ç½®ï¼šå®‰è£… Tampermonkey æ‰©å±•åæ·»åŠ ä»¥ä¸‹è„šæœ¬ // ==UserScript== // @name å­¦æ ¡å›¾ä¹¦é¦†é¢„çº¦æŠ¢åº§(22:44:45~45:00å®Œæˆæ»‘å—éªŒè¯) // @namespace http://tampermonkey.net/ // @version 0.1 // @description æ•è·å¹¶å»¶è¿ŸPOSTè¯·æ±‚åˆ°æŒ‡å®šæ—¶é—´ // @author Tiana Lei // @match https://xxxx.xxx.xxx.edu.cn/* // @grant none // ==/UserScript== (function() { \u0026#39;use strict\u0026#39;; const TARGET_HOUR = 22; // å°æ—¶ï¼ˆ24å°æ—¶åˆ¶ï¼‰ const TARGET_MIN = 45; // åˆ†é’Ÿ const TARGET_SEC = 0; // ç§’ var originalOpen = XMLHttpRequest.prototype.open; var originalSend = XMLHttpRequest.prototype.send; // æ­£åˆ™è¡¨è¾¾å¼ï¼Œç”¨äºåŒ¹é…URL const targetPattern = /^https:\\/\\/xxxx\\.xxx\\.xxx\\.edu\\.cn\\/.*bookseat\\/.*/; XMLHttpRequest.prototype.open = function(method, url) { if (method === \u0026#34;POST\u0026#34; \u0026amp;\u0026amp; targetPattern.test(url)) { var that = this; this.realSend = this.send; // ä¿å­˜åŸå§‹sendæ–¹æ³• this.send = function(data) { // è·å–å½“å‰æ—¶é—´å’Œç›®æ ‡æ—¶é—´ const now = new Date(); const targetTime = new Date( now.getFullYear(), now.getMonth(), now.getDate(), TARGET_HOUR, TARGET_MIN, TARGET_SEC ); // è®¡ç®—å»¶è¿Ÿæ—¶é—´ï¼ˆæ¯«ç§’ï¼‰ const delay = targetTime - now; console.log(`å½“å‰æ—¶é—´ï¼š${now}, ç›®æ ‡æ—¶é—´ï¼š${targetTime}, è®¡ç®—å¾—åˆ°å»¶è¿Ÿï¼š${delay}ms`); // è¾“å‡ºå»¶è¿Ÿæ—¶é—´ // å»¶è¿Ÿå‘é€è¯·æ±‚ if (delay \u0026gt; 0 \u0026amp;\u0026amp; delay \u0026lt;= 15000) { // å¦‚æœåœ¨æ—¶é—´çª—å£å†… console.log(`å»¶è¿Ÿå‘é€ï¼š${delay}ms`); // è¾“å‡ºå»¶è¿Ÿä¿¡æ¯ setTimeout(function() { console.log(\u0026#39;å»¶è¿Ÿè¯·æ±‚è¢«å‘é€\u0026#39;); // å»¶è¿Ÿåæ‰§è¡Œçš„æ—¥å¿— that.realSend(data); // å»¶è¿Ÿå‘é€åŸå§‹è¯·æ±‚ }, delay); } else { console.log(\u0026#39;è¶…å‡ºæ—¶é—´çª—å£ï¼Œç›´æ¥å‘é€è¯·æ±‚\u0026#39;); // å¦‚æœè¶…å‡ºæ—¶é—´çª—å£ï¼Œç›´æ¥å‘é€è¯·æ±‚ that.realSend(data); // è¶…å‡ºæ—¶é—´çª—å£ï¼Œç›´æ¥å‘é€ } }; } else { console.log(`è·³è¿‡ï¼Œéç›®æ ‡POSTè¯·æ±‚ï¼ŒURL: ${url}`); // å¦‚æœä¸æ˜¯ç›®æ ‡è¯·æ±‚ï¼Œè·³è¿‡ } originalOpen.apply(this, arguments); // è°ƒç”¨åŸå§‹openæ–¹æ³• }; XMLHttpRequest.prototype.send = function(data) { originalSend.apply(this, arguments); // è°ƒç”¨åŸå§‹sendæ–¹æ³• }; })(); ç°åœ¨çš„æœ€ä½³æ“ä½œæµç¨‹å˜æˆï¼š\n22:44:30 ä¼˜é›…åœ°æŠ¿å£å’–å•¡ 22:44:45~22:44:59 ä»å®¹å®Œæˆæ»‘å—éªŒè¯ï¼ˆé¢„ç•™15ç§’å®¹é”™ï¼‰ æµè§ˆå™¨è„šæœ¬åœ¨00ç§’å‡†æ—¶å‘é€è¯·æ±‚ è‡³æ­¤ï¼ŒæŠ¢åº§ç„¦è™‘å·²æˆè¿‡å»å¼ã€‚Enjoy ~\n","permalink":"https://tianalei.github.io/personal-blog/posts/2025-02-19-whu-library-seat-reservation-scripting/","summary":"\u003cp\u003eå­¦æ ¡å›¾ä¹¦é¦†æ¢äº†æ–°çš„éªŒè¯ç é¢„çº¦ç³»ç»Ÿï¼Œç”¨æˆ·æ¯å¤©22:45å‡†æ—¶å®Œæˆæ»‘å—éªŒè¯æ‰èƒ½æŠ¢åˆ°æ¬¡æ—¥åº§ä½ï¼Œæ•´ä¸ªæµç¨‹åŒ…æ‹¬\u003ccode\u003eç™»å½•ç³»ç»Ÿâ†’é€‰æ‹©åŒºåŸŸâ†’å¯¹å‡†æ»‘å—ç¼ºå£â†’å¡ç‚¹æäº¤\u003c/code\u003eï¼Œä»»ä½•ä¸€ä¸ªç¯èŠ‚å»¶è¿Ÿéƒ½å¯èƒ½å‰åŠŸå°½å¼ƒï¼Œå¯è°“æ‰‹æ®‹å…šå…‹æ˜Ÿã€‚å½“æˆ‘ç¬¬ä¸‰æ¬¡å› ä¸ºæ‰‹æŠ–æŠŠæ»‘å—æ»‘åï¼Œçœ‹ç€è¿‘10ç§’çš„éªŒè¯è€—æ—¶ï¼Œæ„è¯†åˆ°å¿…é¡»æƒ³åŠæ³•è‡ªæ•‘ã€‚ä»çµå…‰ä¹ç°åˆ°æ–¹æ¡ˆæˆå‹ï¼Œæ•´ä¸ªè¿‡ç¨‹åªç”¨äº†ä¸¤æ¯å’–å•¡çš„æ—¶é—´ï¼Œä»¥ä¸‹æ˜¯ä¸€ç‚¹å®æˆ˜å¿ƒå¾—ã€‚\u003c/p\u003e","title":"å­¦æ ¡å›¾ä¹¦é¦†æ–°ç³»ç»Ÿæ»‘å—éªŒè¯ç æŠ¢åº§æ–¹æ³•(2025)"},{"content":"è®°å½• macOS/ubuntu ç¯å¢ƒä¸‹å¸¸è§å¼€å‘å·¥å…·é—®é¢˜çš„è§£å†³æ–¹æ¡ˆå’Œ bug ä¿®å¤\nâ­•ï¸ Proxyman Internal Error 999 Toggle off any other proxy app (CRUCIAL!) Configure Proxyman settings: Advanced Proxy Settings \u0026gt; External Proxy Settings \u0026gt; Enable Web Proxy (HTTP) \u0026gt; Set it to the system proxy address, e.g., 127.0.0.1:7890 â­•ï¸ VSCode Latex Workshop build error: \u0026ldquo;spawn latexmk ENOENT\u0026rdquo;, \u0026ldquo;LaTeX build process spawned with PID undefined\u0026rdquo; First, verify latexmk path is in the system PATH\nâœ ~ which latexmk /Library/TeX/texbin/latexmk âœ ~ echo $PATH\t# Look for /Library/TeX/texbin in the output If it is but the error persists, try granting permissions to the texbin directory\nsudo chown -R \u0026lt;username\u0026gt; /Library/TeX/texbin If still not working, grant \u0026ldquo;Full Disk Access\u0026rdquo; to VSCode (this worked for me).\nâ­•ï¸ VSCode Latex Workshop build error: \u0026ldquo;Cannot find LaTeX root file\u0026rdquo; or \u0026ldquo;Active document is not a TeX file\u0026rdquo; Identify the problem: According to the error log, the language ID is django-txt, which is not a LaTeX file type.\n[01:21:25.491][Build] The document of the active editor: file://%WS1%/file.tex [01:21:25.491][Build] The languageId of the document: django-txt [01:21:25.491][Build] Cannot find LaTeX root file. See https://github.com/James-Yu/LaTeX-Workshop/wiki/Compile#the-root-file The Solution: æŠŠ VS Code å³ä¸‹è§’çš„è¯­è¨€æ¨¡å¼åˆ‡æ¢ä¸º LaTeXã€‚Check the language mode in the bottom-right corner of VS Code. If it shows anything other than LaTeX (e.g., django-txt), change it to LaTeX.\nSelect language mode\nğŸ› ï¸ Building QGIS from source for Apple Silicon (M1 Pro, macOS Sonoma 14.4) For a detailed guide for this, check out my reddit post below for the complete process.\nBuild and install QGIS with native Apple Silicon (M1 Pro, Sonoma 14.4)\nbyu/Ok-Sky-1162 inQGIS","permalink":"https://tianalei.github.io/personal-blog/posts/2025-02-18-my-troubleshooting-notes-solutions-and-bug-fixes/","summary":"\u003cp\u003eè®°å½• macOS/ubuntu ç¯å¢ƒä¸‹å¸¸è§å¼€å‘å·¥å…·é—®é¢˜çš„è§£å†³æ–¹æ¡ˆå’Œ bug ä¿®å¤\u003c/p\u003e","title":"My Troubleshooting Notes: Solutions and Bug fixes"}]